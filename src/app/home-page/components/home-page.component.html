<app-banner *ngIf="flags.isBannerVisible"></app-banner>
<div class="container homepage">
  <app-common-products *ngIf="flags.isArrivalsVisible">
    <h2 class="common-products__heading" title>new <span>arrivals</span></h2>
    <app-spinner spinner *ngIf="isSpinnerVisible.arrivals" [spinner]="spinners.arrivals"> </app-spinner>
    <app-product-item new-arrivals *ngFor="let product of products | async; trackBy: 'id' | trackByProperty" [product]="product">
    </app-product-item>
  </app-common-products>

  <app-view-more *ngIf="flags.isViewMoreVisible" class="homepage__view-more"></app-view-more>
  <app-advertisements *ngIf="flags.isAdvertismentsVisible" class="homepage__adv"></app-advertisements>

  <app-common-products class="homepage__best-sales" *ngIf="flags.isBestSalesVisible">
    <h2 class="common-products__heading" title>best <span>sales</span></h2>

    <app-spinner [spinner]="spinners.bestSales" *ngIf="isSpinnerVisible.bestSales" spinner></app-spinner>

    <div class="best-sales__items" [ngClass]="{ hidden: isSpinnerVisible.bestSales }" best-products>
      <app-best-sales-item
        *ngFor="let product of (bestSalesProductsState$ | async).data; trackBy: null | trackByProperty"
        class="best-sales__item"
        [product]="product"
      >
      </app-best-sales-item>
    </div>
  </app-common-products>
</div>
